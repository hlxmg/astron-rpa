"use strict";(()=>{var rt=Object.defineProperty;var u=(t,e)=>()=>(t&&(e=t(t=0)),e);var g=(t,e)=>{for(var a in e)rt(t,a,{get:e[a],enumerable:!0})};function st(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function v(t,e=!1){let a=st(),n=`_${a}`;return Object.defineProperty(window,n,{value:r=>(e&&Reflect.deleteProperty(window,n),t?.(r)),writable:!1,configurable:!0}),a}async function C(t,e={}){return new Promise((a,n)=>{let r=v(o=>{a(o),Reflect.deleteProperty(window,`_${s}`)},!0),s=v(o=>{n(o),Reflect.deleteProperty(window,`_${r}`)},!0);window.__TAURI_IPC__({cmd:t,callback:r,error:s,...e})})}var _=u(()=>{});async function i(t){return C("tauri",t)}var p=u(()=>{_()});async function fe(t,e){return i({__tauriModule:"Event",message:{cmd:"unlisten",event:t,eventId:e}})}async function k(t,e,a){await i({__tauriModule:"Event",message:{cmd:"emit",event:t,windowLabel:e,payload:a}})}async function S(t,e,a){return i({__tauriModule:"Event",message:{cmd:"listen",event:t,windowLabel:e,handler:v(a)}}).then(n=>async()=>fe(t,n))}async function I(t,e,a){return S(t,e,n=>{a(n),fe(t,n.id).catch(()=>{})})}var V=u(()=>{p();_()});var $={};g($,{TauriEvent:()=>m,emit:()=>R,listen:()=>F,once:()=>G});async function F(t,e){return S(t,null,e)}async function G(t,e){return I(t,null,e)}async function R(t,e){return k(t,void 0,e)}var m,x=u(()=>{V();(function(t){t.WINDOW_RESIZED="tauri://resize",t.WINDOW_MOVED="tauri://move",t.WINDOW_CLOSE_REQUESTED="tauri://close-requested",t.WINDOW_CREATED="tauri://window-created",t.WINDOW_DESTROYED="tauri://destroyed",t.WINDOW_FOCUS="tauri://focus",t.WINDOW_BLUR="tauri://blur",t.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",t.WINDOW_THEME_CHANGED="tauri://theme-changed",t.WINDOW_FILE_DROP="tauri://file-drop",t.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",t.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",t.MENU="tauri://menu",t.CHECK_UPDATE="tauri://update",t.UPDATE_AVAILABLE="tauri://update-available",t.INSTALL_UPDATE="tauri://update-install",t.STATUS_UPDATE="tauri://update-status",t.DOWNLOAD_PROGRESS="tauri://update-download-progress"})(m||(m={}))});function d(){return new h(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function ge(){return window.__TAURI_METADATA__.__windows.map(t=>new h(t.label,{skip:!0}))}function lt(t){return t===null?null:{name:t.name,scaleFactor:t.scaleFactor,position:we(t.position),size:_e(t.size)}}function we(t){return new W(t.x,t.y)}function _e(t){return new b(t.width,t.height)}async function be(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}}).then(lt)}var L,b,D,W,q,ye,J,K,Q,h,A,Y=u(()=>{p();V();x();L=class{constructor(e,a){this.type="Logical",this.width=e,this.height=a}},b=class{constructor(e,a){this.type="Physical",this.width=e,this.height=a}toLogical(e){return new L(this.width/e,this.height/e)}},D=class{constructor(e,a){this.type="Logical",this.x=e,this.y=a}},W=class{constructor(e,a){this.type="Physical",this.x=e,this.y=a}toLogical(e){return new D(this.x/e,this.y/e)}};(function(t){t[t.Critical=1]="Critical",t[t.Informational=2]="Informational"})(q||(q={}));ye=["tauri://created","tauri://error"],J=class{constructor(e){this.label=e,this.listeners=Object.create(null)}async listen(e,a){return this._handleTauriEvent(e,a)?Promise.resolve(()=>{let n=this.listeners[e];n.splice(n.indexOf(a),1)}):S(e,this.label,a)}async once(e,a){return this._handleTauriEvent(e,a)?Promise.resolve(()=>{let n=this.listeners[e];n.splice(n.indexOf(a),1)}):I(e,this.label,a)}async emit(e,a){if(ye.includes(e)){for(let n of this.listeners[e]||[])n({event:e,id:-1,windowLabel:this.label,payload:a});return Promise.resolve()}return k(e,this.label,a)}_handleTauriEvent(e,a){return ye.includes(e)?(e in this.listeners?this.listeners[e].push(a):this.listeners[e]=[a],!0):!1}},K=class extends J{async scaleFactor(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:e,y:a})=>new W(e,a))}async outerPosition(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:e,y:a})=>new W(e,a))}async innerSize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:e,height:a})=>new b(e,a))}async outerSize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:e,height:a})=>new b(e,a))}async isFullscreen(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMinimized(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimized"}}}})}async isMaximized(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isFocused(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFocused"}}}})}async isDecorated(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isMaximizable(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximizable"}}}})}async isMinimizable(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimizable"}}}})}async isClosable(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isClosable"}}}})}async isVisible(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async title(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"title"}}}})}async theme(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention(e){let a=null;return e&&(e===q.Critical?a={type:"Critical"}:a={type:"Informational"}),i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:a}}}})}async setResizable(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:e}}}})}async setMaximizable(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaximizable",payload:e}}}})}async setMinimizable(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinimizable",payload:e}}}})}async setClosable(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setClosable",payload:e}}}})}async setTitle(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:e}}}})}async maximize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:e}}}})}async setAlwaysOnTop(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:e}}}})}async setContentProtected(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setContentProtected",payload:e}}}})}async setSize(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:e.type,data:{width:e.width,height:e.height}}}}}})}async setMinSize(e){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})}async setMaxSize(e){if(e&&e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:e?{type:e.type,data:{width:e.width,height:e.height}}:null}}}})}async setPosition(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})}async setFullscreen(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:e}}}})}async setFocus(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof e=="string"?e:Array.from(e)}}}}})}async setSkipTaskbar(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:e}}}})}async setCursorGrab(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:e}}}})}async setCursorVisible(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:e}}}})}async setCursorIcon(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:e}}}})}async setCursorPosition(e){if(!e||e.type!=="Logical"&&e.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:e.type,data:{x:e.x,y:e.y}}}}}})}async setIgnoreCursorEvents(e){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:e}}}})}async startDragging(){return i({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized(e){return this.listen(m.WINDOW_RESIZED,a=>{a.payload=_e(a.payload),e(a)})}async onMoved(e){return this.listen(m.WINDOW_MOVED,a=>{a.payload=we(a.payload),e(a)})}async onCloseRequested(e){return this.listen(m.WINDOW_CLOSE_REQUESTED,a=>{let n=new Q(a);Promise.resolve(e(n)).then(()=>{if(!n.isPreventDefault())return this.close()})})}async onFocusChanged(e){let a=await this.listen(m.WINDOW_FOCUS,r=>{e({...r,payload:!0})}),n=await this.listen(m.WINDOW_BLUR,r=>{e({...r,payload:!1})});return()=>{a(),n()}}async onScaleChanged(e){return this.listen(m.WINDOW_SCALE_FACTOR_CHANGED,e)}async onMenuClicked(e){return this.listen(m.MENU,e)}async onFileDropEvent(e){let a=await this.listen(m.WINDOW_FILE_DROP,s=>{e({...s,payload:{type:"drop",paths:s.payload}})}),n=await this.listen(m.WINDOW_FILE_DROP_HOVER,s=>{e({...s,payload:{type:"hover",paths:s.payload}})}),r=await this.listen(m.WINDOW_FILE_DROP_CANCELLED,s=>{e({...s,payload:{type:"cancel"}})});return()=>{a(),n(),r()}}async onThemeChanged(e){return this.listen(m.WINDOW_THEME_CHANGED,e)}},Q=class{constructor(e){this._preventDefault=!1,this.event=e.event,this.windowLabel=e.windowLabel,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}},h=class t extends K{constructor(e,a={}){super(e),a?.skip||i({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:e,...a}}}}).then(async()=>this.emit("tauri://created")).catch(async n=>this.emit("tauri://error",n))}static getByLabel(e){return ge().some(a=>a.label===e)?new t(e,{skip:!0}):null}static async getFocusedWindow(){for(let e of ge())if(await e.isFocused())return e;return null}};"__TAURI_METADATA__"in window?A=new h(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),A=new h("main",{skip:!0}))});var Pe={};g(Pe,{default:()=>ut});var Me,U,T,Z,ut,ve=u(()=>{"use strict";Y();Me={width:1280,height:750,maximized:!1,center:!0},U={width:screen.availWidth*devicePixelRatio,height:screen.availHeight*devicePixelRatio},T=new b(U.width,U.height),Z=class{constructor(){this.platform="tauri";this.windows=new Map;let e=d();e.onResized(async()=>{await e.setAlwaysOnTop(!1),await e.setResizable(!0)})}getWindow(){return d()}async getScaleFactor(){let a=await d().scaleFactor();return devicePixelRatio/a}async createWindow(e,a){let n=d(),r=await be(),s=await n.scaleFactor(),{label:o,position:l,offset:f=0,...c}=e,y=r?.scaleFactor||s,w=T.toLogical(y).width,P=T.toLogical(y).height,he=await this.getScaleFactor();switch(c.width=c.width*he,c.height=c.height*he,l){case"center":c.x=w/2-c.width/2,c.y=P/2-c.height/2;break;case"top":c.x=w/2-c.width/2,c.y=2;break;case"left_top":c.x=2,c.y=2;break;case"left_bottom":c.x=2,c.y=P-c.height-2;break;case"right_top":c.x=w-c.width-2,c.y=2;break;case"right_bottom":c.x=w-c.width-2,c.y=P-c.height-2;break;case"right_center":c.x=w-c.width-f,c.y=P/2-c.height/2;break;default:break}return new h(o,c).onCloseRequested(()=>a?.()),o}async scaleFactor(){return await d().scaleFactor()}async emitTo(e){let a=h.getByLabel(e.target);a&&a.emit("w2w",e)}async showWindow(e){await(e?h.getByLabel(e.toString()):d())?.show()}async hideWindow(){await d().hide()}async maximizeWindow(e=!1){let a=d();return e?await a.maximize():await a.toggleMaximize(),await a.setFocus(),await a.isFocused()||await this.foucsWindow(),await a.isMaximized()}async minimizeWindow(){await d().minimize()}async restoreWindow(){let e=d(),a=await e.isMaximized(),n=await e.isMinimized();a&&await e.unmaximize(),n&&await e.unminimize(),await e.setFocus(),await e.isFocused()||await this.foucsWindow()}async closeWindow(e){let a=null;e?(a=h.getByLabel(e.toString()),a?await a.close():console.warn(`No window found with label: ${e}`)):(a=d(),await a.close())}async setWindowSize(e){let a=d();if(a){await a.setResizable(!0);let n=await a.scaleFactor(),r=e?.width??T.toLogical(n).width-40,s=e?.height??T.toLogical(n).height-40;await a.setSize(new L(r,s)),await a.setResizable(!1)}}async isMaximized(){return await d().isMaximized()}async isMinimized(){return await d().isMinimized()}async foucsWindow(){let e=d();await e.setFocus(),await e.setAlwaysOnTop(!0);let a=await e.isFocused();setTimeout(async()=>{a||(await e.setFocus(),await e.setAlwaysOnTop(!0),setTimeout(()=>{e.setAlwaysOnTop(!1)},300)),await e.setAlwaysOnTop(!1)},300)}async restoreLoginWindow(){let e=d();await e.unmaximize(),await e.setResizable(!0),await e.setSize(new L(Me.width,Me.height)),await e.center(),await e.setResizable(!1)}async centerWindow(){await d().center()}async getScreenWorkArea(){let a=await d().scaleFactor();return T.toLogical(a)}async setWindowPosition(e=0,a=0){let n=d();await n.setResizable(!0),await n.setPosition(new W(e,a)),await n.setResizable(!1)}async setWindowAlwaysOnTop(e=!0){await d().setAlwaysOnTop(e)}async showDecorations(){await A.setDecorations(!0),await A.setTitle("\u767B\u5F55\u661F\u8FB0RPA")}async hideDecorations(){await A.setDecorations(!1),await A.setTitle("\u661F\u8FB0RPA")}async minLogWindow(e){let a=d(),n=await a.scaleFactor(),r=T.toLogical(n).width,s=T.toLogical(n).height,o=.2*U.width*n,l=.13*U.height*n,f=new b(o,l),c=f.toLogical(n).width,y=f.toLogical(n).height,w=.1*c,P=y;e?(await this.setWindowSize({width:w,height:P}),await a.setPosition(new D(r-w-2,s-P-2))):(await a.setPosition(new D(r-c-2,s-y-2)),await this.setWindowSize({width:c,height:y}))}async onWindowResize(e){return await d().onResized(()=>e())}async onWindowClose(e){await d().onCloseRequested(async n=>{n.preventDefault(),await this.maximizeWindow(!0),e()})}},ut=Z});async function We(t,e){return i({__tauriModule:"GlobalShortcut",message:{cmd:"register",shortcut:t,handler:v(e)}})}async function Ae(t){return i({__tauriModule:"GlobalShortcut",message:{cmd:"unregister",shortcut:t}})}async function Te(){return i({__tauriModule:"GlobalShortcut",message:{cmd:"unregisterAll"}})}var X=u(()=>{p();_()});var xe={};g(xe,{default:()=>pt});var mt,B,pt,Le=u(()=>{"use strict";X();mt=["Shift+F5","F5","F10","F9","F8","Shift+F10"],B={register:async(t,e)=>{await We(t,e)},unregister:async t=>{await Ae(t)},unregisterAll:async()=>{await Te()},regeisterToolbar:async()=>{await B.unregisterAll(),mt.forEach(t=>B.register(t,e=>{console.log(`toolbarShortCut: ${e}`)}))},regeisterFlow(){throw new Error("Method not implemented.")}},pt=B});async function De(t){return i({__tauriModule:"Clipboard",message:{cmd:"writeText",data:t}})}async function Ce(){return i({__tauriModule:"Clipboard",message:{cmd:"readText",data:null}})}var ee=u(()=>{p()});var Se={};g(Se,{default:()=>te});async function ft(){return await Ce()||""}async function gt(t){De(t)}var yt,te,ae=u(()=>{"use strict";ee();yt={readClipboardText:ft,writeClipboardText:gt},te=yt});async function Fe(){return i({__tauriModule:"App",message:{cmd:"getAppVersion"}})}async function Oe(){return i({__tauriModule:"App",message:{cmd:"getTauriVersion"}})}var ie=u(()=>{p()});var Ee=u(()=>{p()});var O={};g(O,{ask:()=>vt,confirm:()=>Wt,message:()=>Pt,open:()=>bt,save:()=>Mt});async function bt(t={}){return typeof t=="object"&&Object.freeze(t),i({__tauriModule:"Dialog",message:{cmd:"openDialog",options:t}})}async function Mt(t={}){return typeof t=="object"&&Object.freeze(t),i({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:t}})}async function Pt(t,e){var a,n;let r=typeof e=="string"?{title:e}:e;return i({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:t.toString(),title:(a=r?.title)===null||a===void 0?void 0:a.toString(),type:r?.type,buttonLabel:(n=r?.okLabel)===null||n===void 0?void 0:n.toString()}})}async function vt(t,e){var a,n,r,s,o;let l=typeof e=="string"?{title:e}:e;return i({__tauriModule:"Dialog",message:{cmd:"askDialog",message:t.toString(),title:(a=l?.title)===null||a===void 0?void 0:a.toString(),type:l?.type,buttonLabels:[(r=(n=l?.okLabel)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"Yes",(o=(s=l?.cancelLabel)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"No"]}})}async function Wt(t,e){var a,n,r,s,o;let l=typeof e=="string"?{title:e}:e;return i({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:t.toString(),title:(a=l?.title)===null||a===void 0?void 0:a.toString(),type:l?.type,buttonLabels:[(r=(n=l?.okLabel)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"Ok",(o=(s=l?.cancelLabel)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"Cancel"]}})}var ze=u(()=>{p()});async function ke(t,e={}){let a=await i({__tauriModule:"Fs",message:{cmd:"readFile",path:t,options:e}});return Uint8Array.from(a)}async function Ie(t,e,a){typeof a=="object"&&Object.freeze(a),typeof t=="object"&&Object.freeze(t);let n={path:"",contents:[]},r=a;return typeof t=="string"?n.path=t:(n.path=t.path,n.contents=t.contents),e&&"dir"in e?r=e:typeof t=="string"&&(n.contents=e??[]),i({__tauriModule:"Fs",message:{cmd:"writeFile",path:n.path,contents:Array.from(n.contents instanceof ArrayBuffer?new Uint8Array(n.contents):n.contents),options:r}})}var M,N=u(()=>{p();(function(t){t[t.Audio=1]="Audio",t[t.Cache=2]="Cache",t[t.Config=3]="Config",t[t.Data=4]="Data",t[t.LocalData=5]="LocalData",t[t.Desktop=6]="Desktop",t[t.Document=7]="Document",t[t.Download=8]="Download",t[t.Executable=9]="Executable",t[t.Font=10]="Font",t[t.Home=11]="Home",t[t.Picture=12]="Picture",t[t.Public=13]="Public",t[t.Runtime=14]="Runtime",t[t.Template=15]="Template",t[t.Video=16]="Video",t[t.Resource=17]="Resource",t[t.App=18]="App",t[t.Log=19]="Log",t[t.Temp=20]="Temp",t[t.AppConfig=21]="AppConfig",t[t.AppData=22]="AppData",t[t.AppLocalData=23]="AppLocalData",t[t.AppCache=24]="AppCache",t[t.AppLog=25]="AppLog"})(M||(M={}))});var Re,Ue=u(()=>{p();(function(t){t[t.JSON=1]="JSON",t[t.Text=2]="Text",t[t.Binary=3]="Binary"})(Re||(Re={}))});var Ne=u(()=>{p()});function E(){return navigator.appVersion.includes("Win")}var ne=u(()=>{});async function je(){return i({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:M.AppData}})}async function He(){return i({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:M.Download}})}async function Ve(){return i({__tauriModule:"Path",message:{cmd:"resolvePath",path:"",directory:M.Resource}})}async function re(...t){return i({__tauriModule:"Path",message:{cmd:"join",paths:t}})}var La,Da,se=u(()=>{p();N();ne();La=E()?"\\":"/",Da=E()?";":":"});var oe={};g(oe,{exit:()=>Dt,relaunch:()=>Ct});async function Dt(t=0){return i({__tauriModule:"Process",message:{cmd:"exit",exitCode:t}})}async function Ct(){return i({__tauriModule:"Process",message:{cmd:"relaunch"}})}var le=u(()=>{p()});async function z(t,e){return i({__tauriModule:"Shell",message:{cmd:"open",path:t,with:e}})}var ce=u(()=>{p();_()});var j={};g(j,{checkUpdate:()=>Ot,installUpdate:()=>Ft,onUpdaterEvent:()=>ue});async function ue(t){return F(m.STATUS_UPDATE,e=>{t(e?.payload)})}async function Ft(){let t;function e(){t&&t(),t=void 0}return new Promise((a,n)=>{function r(s){if(s.error){e(),n(s.error);return}s.status==="DONE"&&(e(),a())}ue(r).then(s=>{t=s}).catch(s=>{throw e(),s}),R(m.INSTALL_UPDATE).catch(s=>{throw e(),s})})}async function Ot(){let t;function e(){t&&t(),t=void 0}return new Promise((a,n)=>{function r(o){e(),a({manifest:o,shouldUpdate:!0})}function s(o){if(o.error){e(),n(o.error);return}o.status==="UPTODATE"&&(e(),a({shouldUpdate:!1}))}G(m.UPDATE_AVAILABLE,o=>{r(o?.payload)}).catch(o=>{throw e(),o}),ue(s).then(o=>{t=o}).catch(o=>{throw e(),o}),R(m.CHECK_UPDATE).catch(o=>{throw e(),o})})}var H=u(()=>{x()});async function Ge(){return i({__tauriModule:"Os",message:{cmd:"platform"}})}async function $e(){return i({__tauriModule:"Os",message:{cmd:"version"}})}async function qe(){return i({__tauriModule:"Os",message:{cmd:"arch"}})}var ka,de=u(()=>{ne();p();ka=E()?`\r
`:`
`});var Je=u(()=>{ie();Ee();ee();ze();x();N();X();Ue();Ne();se();le();ce();_();_();H();Y();de()});var Ye={};g(Ye,{default:()=>Zt});function zt(){return"tauri"}function kt(t,e){e?z(t,"google chrome"):z(t)}function It(t,e){F(t,a=>{e(a.payload)})}async function Rt(){return await Fe()}async function Ke(){let t=await Ve();return t.startsWith("\\\\?\\")?t.slice(4):t}async function Qe(){return await je()}async function Ut(){return`Build by Tauri ${await Oe()}`}async function Nt(){let t=await Ge(),e=await qe();return`${await $e()} ${t} ${e} `}async function jt(t,...e){return await C(t,...e)}async function Ht(t){return ke(t,{dir:M.Home})}function Vt(t){z(t)}async function Gt(t){return await re(...t)}function me(t){return new Promise((e,a)=>{let n=t.replace(/\\/g,"/");console.log("fullPath: ",n),te.writeClipboardText(n),z(n).then(e).catch(a)})}async function $t(){let t=await Ke(),e=await Qe();e.endsWith("/")||(e+="/"),t.startsWith("C:")||t.startsWith("c:")||t.startsWith("/")?me(`${e}python_core/Lib/site-packages/astronverse/browser_plugin/plugins`):me(`${t}data/python_core/Lib/site-packages/astronverse/browser_plugin/plugins`)}var qt,Jt,Kt,Qt,Yt,Zt,Ze=u(()=>{"use strict";Je();ie();x();N();de();se();ce();_();ae();qt=t=>{let{file_type:e,filters:a,multiple:n,defaultPath:r=""}=t,s=!1,o=!1,l={title:"\u9009\u62E9\u6587\u4EF6\u76EE\u5F55",defaultPath:r};if(e==="folder"&&(s=!0),e==="files"&&(o=!0),e==="file"&&(o=n),a&&a.length>0){let f=a.map(c=>c.replace(".",""));l.filters=[{name:"",extensions:f}]}return new Promise(f=>{l.directory=s,l.multiple=o,O.open(l).then(c=>{c&&f(c)})})},Jt=async(t,e)=>{let a=await He(),n=await re(a,t),r=await O.save({title:"\u4FDD\u5B58\u6587\u4EF6",defaultPath:n});r&&await Ie(r,e)},Kt=async t=>(console.log("getPluginPath"),""),Qt=async()=>(console.log("getPluginList"),[]),Yt={getAppEnv:zt,isBrowser:!1,openInBrowser:kt,listenEvent:It,getAppVersion:Rt,getAppPath:Ke,getUserPath:Qe,getBuildInfo:Ut,getSystemEnv:Nt,invoke:jt,readFile:Ht,saveFile:Jt,playVideo:Vt,pathJoin:Gt,shellopen:me,openPlugins:$t,showDialog:qt,getPluginPath:Kt,getPluginList:Qt},Zt=Yt});function Xe(t,e,a){let n=new pe,r;return Promise.race([t,new Promise((s,o)=>{let l=a?.default;r=setTimeout(()=>l?s(l):o(n),e)})]).then(s=>(clearTimeout(r),s),s=>{throw clearTimeout(r),s})}var pe,Be=u(()=>{"use strict";pe=class extends Error{constructor(){super("TimeoutError")}}});var at={};g(at,{checkUpdate:()=>et,default:()=>Bt,installUpdate:()=>tt});async function et(){let t={shouldUpdate:!1,manifest:null};try{let e=await Promise.resolve().then(()=>(H(),j));return await Xe(e.checkUpdate(),2e3,{default:t})}catch(e){console.error(e)}return t}async function tt(t){let[e,a,n]=await Promise.all([Promise.resolve().then(()=>(H(),j)),Promise.resolve().then(()=>(x(),$)),Promise.resolve().then(()=>(le(),oe))]),r=await a.listen(a.TauriEvent.DOWNLOAD_PROGRESS,o=>{let l=o.payload,f=l.chunkLength,c=l.contentLength,y=(f/c*100).toFixed(2);t(Number(y))}),s=await e.onUpdaterEvent(({status:o})=>{o==="DONE"&&(t(100),r(),s())});await e.installUpdate(),await n.relaunch()}var Xt,Bt,it=u(()=>{"use strict";Be();Xt={checkUpdate:et,installUpdate:tt},Bt=Xt});if(typeof window>"u")throw new TypeError("This code must be run in a browser environment.");var ea=100;function nt(){window.__TAURI_METADATA__?(Promise.resolve().then(()=>(ve(),Pe)).then(t=>{let e=t.default;window.WindowManager=new e}),Promise.resolve().then(()=>(Le(),xe)).then(t=>{window.ShortCutManager=t.default}),Promise.resolve().then(()=>(ae(),Se)).then(t=>{window.ClipboardManager=t.default}),Promise.resolve().then(()=>(Ze(),Ye)).then(t=>{window.UtilsManager=t.default}),Promise.resolve().then(()=>(it(),at)).then(t=>{window.UpdaterManager=t.default}),console.log("%c Tauri SDK initialization is complete","color: white; background-color: green;")):setTimeout(()=>{ea-- >0?nt():console.warn("Tauri SDK initialization failed: __TAURI_METADATA__ not found")},0)}nt();})();
